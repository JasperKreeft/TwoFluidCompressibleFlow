function W=Cons2Prim(Q)

global NX NY
global gamma1 gamma2

W = zeros(NY,NX,8);

W(:,:,1)=Q(:,:,1);
W(:,:,2)=Q(:,:,2);
W(:,:,3)=Q(:,:,3);
W(:,:,4)=Q(:,:,4)./Q(:,:,3);
W(:,:,5)=Q(:,:,5)./Q(:,:,3);
W(:,:,6)=(gamma1-gamma2)*(Q(:,:,8)-((Q(:,:,7).*(Q(:,:,4).^2+Q(:,:,5).^2))./(2*Q(:,:,3).^2)))+(gamma2-1)*(Q(:,:,6)-(Q(:,:,4).^2+Q(:,:,5).^2)./(2*Q(:,:,3)));
W(:,:,7)=Q(:,:,7)./Q(:,:,3);
W(:,:,8)=((gamma1-1)*(Q(:,:,8)-Q(:,:,7).*(Q(:,:,4).^2+Q(:,:,5).^2)./(2*Q(:,:,3).^2)))./((gamma1-gamma2)*(Q(:,:,8)-Q(:,:,7).*(Q(:,:,4).^2+Q(:,:,5).^2)./(2*Q(:,:,3).^2))+(gamma2-1)*(Q(:,:,6)-(Q(:,:,4).^2+Q(:,:,5).^2)./(2*Q(:,:,3))));
