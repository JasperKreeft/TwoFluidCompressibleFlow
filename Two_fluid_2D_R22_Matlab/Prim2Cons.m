function Q = Prim2Cons(W)

global NX NY
global gamma1 gamma2

%Convert from primary (W) to conservation (Q)
Q = zeros(NY,NX,8);

Q(:,:,1) = W(:,:,1);
Q(:,:,2) = W(:,:,2);
Q(:,:,3) = W(:,:,3);
Q(:,:,4) = W(:,:,3).*W(:,:,4);
Q(:,:,5) = W(:,:,3).*W(:,:,5);
Q(:,:,6) = W(:,:,6).*(W(:,:,8)./(gamma1-1)+(1-W(:,:,8))./(gamma2-1))+1/2*W(:,:,3).*(W(:,:,4).^2+W(:,:,5).^2);
Q(:,:,7) = W(:,:,3).*W(:,:,7);
Q(:,:,8) = W(:,:,6).*W(:,:,8)./(gamma1-1)+1/2*W(:,:,3).*(W(:,:,4).^2+W(:,:,5).^2).*W(:,:,7);